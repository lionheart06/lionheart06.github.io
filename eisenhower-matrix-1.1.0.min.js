var EisenhowerMatrix=function(t){"use strict";var e;t.QuadrantType=void 0,(e=t.QuadrantType||(t.QuadrantType={})).URGENT_IMPORTANT="urgent_important",e.NOT_URGENT_IMPORTANT="not_urgent_important",e.URGENT_NOT_IMPORTANT="urgent_not_important",e.NOT_URGENT_NOT_IMPORTANT="not_urgent_not_important";class EisenhowerMatrix{constructor(t){this.tasks=new Map,this.quadrantLabels=this.mergeQuadrantLabels(t)}addTask(t,e,n,a){const r=a||this.generateId(),s={id:r,title:t,description:e,quadrant:n,createdAt:new Date,isCompleted:!1};return this.tasks.set(r,s),s}removeTask(t){return this.tasks.delete(t)}updateTask(t,e){const n=this.tasks.get(t);if(!n)return null;const a={...n,...e};return this.tasks.set(t,a),a}completeTask(t){const e=this.tasks.get(t);if(!e)return null;const n={...e,isCompleted:!0,completedAt:new Date};return this.tasks.set(t,n),n}getTask(t){return this.tasks.get(t)||null}getAllTasks(){return Array.from(this.tasks.values())}getTasksByQuadrant(t){return this.getAllTasks().filter(e=>e.quadrant===t)}getCompletedTasks(){return this.getAllTasks().filter(t=>t.isCompleted)}getPendingTasks(){return this.getAllTasks().filter(t=>!t.isCompleted)}getMatrix(){return{[t.QuadrantType.URGENT_IMPORTANT]:this.getTasksByQuadrant(t.QuadrantType.URGENT_IMPORTANT),[t.QuadrantType.NOT_URGENT_IMPORTANT]:this.getTasksByQuadrant(t.QuadrantType.NOT_URGENT_IMPORTANT),[t.QuadrantType.URGENT_NOT_IMPORTANT]:this.getTasksByQuadrant(t.QuadrantType.URGENT_NOT_IMPORTANT),[t.QuadrantType.NOT_URGENT_NOT_IMPORTANT]:this.getTasksByQuadrant(t.QuadrantType.NOT_URGENT_NOT_IMPORTANT)}}clear(){this.tasks.clear()}getTaskCount(){return this.tasks.size}generateId(){return Math.random().toString(36).substr(2,9)+Date.now().toString(36)}mergeQuadrantLabels(t){if(!t)return{...EisenhowerMatrix.DEFAULT_QUADRANTS};const e={...EisenhowerMatrix.DEFAULT_QUADRANTS};return Object.entries(t).forEach(([t,n])=>{const a=t;n&&(e[a]={...e[a],...n,type:a})}),e}getQuadrantInfo(t){return this.quadrantLabels[t]}getAllQuadrantInfo(){return{...this.quadrantLabels}}static get QUADRANTS(){return EisenhowerMatrix.DEFAULT_QUADRANTS}}EisenhowerMatrix.DEFAULT_QUADRANTS={[t.QuadrantType.URGENT_IMPORTANT]:{type:t.QuadrantType.URGENT_IMPORTANT,name:"Do First",description:"Urgent and Important",actionStrategy:"Do these tasks immediately"},[t.QuadrantType.NOT_URGENT_IMPORTANT]:{type:t.QuadrantType.NOT_URGENT_IMPORTANT,name:"Schedule",description:"Important but Not Urgent",actionStrategy:"Schedule these tasks for later"},[t.QuadrantType.URGENT_NOT_IMPORTANT]:{type:t.QuadrantType.URGENT_NOT_IMPORTANT,name:"Delegate",description:"Urgent but Not Important",actionStrategy:"Delegate these tasks if possible"},[t.QuadrantType.NOT_URGENT_NOT_IMPORTANT]:{type:t.QuadrantType.NOT_URGENT_NOT_IMPORTANT,name:"Eliminate",description:"Neither Urgent nor Important",actionStrategy:"Eliminate these tasks"}};class LocalStorageAdapter{constructor(t="eisenhower-matrix"){this.key=t}async save(t){localStorage.setItem(this.key,JSON.stringify(t))}async load(){const t=localStorage.getItem(this.key);return t?JSON.parse(t):null}}return t.DraggableMatrix=class{constructor(t,e=new LocalStorageAdapter,n={},a){this.matrix=new EisenhowerMatrix(a),this.storageAdapter=e,this.size={width:"1200px",height:"auto",quadrantMinHeight:"300px",fontSize:"14px",padding:"20px",taskPadding:"12px",titleSize:"2em",...n};const r=document.getElementById(t);if(!r)throw new Error(`Container with id '${t}' not found`);this.container=r,this.init()}init(){this.injectCSS(),this.createHTML(),this.setupEventListeners(),this.loadData(),this.loadSampleTasks()}injectCSS(){const t=document.createElement("style");t.textContent=`\n      .eisenhower-container {\n        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        max-width: ${this.size.width};\n        margin: 0 auto;\n        padding: ${this.size.padding};\n        background-color: #f5f5f5;\n        font-size: ${this.size.fontSize};\n      }\n      \n      .eisenhower-title {\n        text-align: center;\n        color: #333;\n        margin-bottom: 30px;\n        font-size: ${this.size.titleSize};\n      }\n      \n      .eisenhower-matrix {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        gap: 10px;\n        margin-bottom: 30px;\n        background: white;\n        border: 2px solid #ddd;\n        border-radius: 8px;\n        overflow: visible;\n        position: relative;\n        height: ${this.size.height};\n      }\n      \n      .eisenhower-quadrant {\n        min-height: ${this.size.quadrantMinHeight};\n        max-height: 600px;\n        padding: ${this.size.padding};\n        border: 1px solid #e0e0e0;\n        position: relative;\n        background: #fafafa;\n        overflow: hidden;\n        display: flex;\n        flex-direction: column;\n      }\n      \n      .eisenhower-quadrant.drag-over {\n        background-color: #e8f5e8;\n        border-color: #4CAF50;\n      }\n      \n      .eisenhower-quadrant-header {\n        font-weight: bold;\n        font-size: 16px;\n        margin-bottom: 10px;\n        padding-bottom: 10px;\n        border-bottom: 2px solid #ddd;\n      }\n      \n      .eisenhower-quadrant-strategy {\n        font-size: 12px;\n        color: #666;\n        margin-bottom: 15px;\n        font-style: italic;\n      }\n      \n      .eisenhower-tasks-container {\n        flex: 1;\n        overflow-y: auto;\n        overflow-x: hidden;\n      }\n      \n      .eisenhower-quadrant.urgent-important {\n        background: linear-gradient(135deg, #ffebee, #ffcdd2);\n      }\n      \n      .eisenhower-quadrant.not-urgent-important {\n        background: linear-gradient(135deg, #e8f5e8, #c8e6c9);\n      }\n      \n      .eisenhower-quadrant.urgent-not-important {\n        background: linear-gradient(135deg, #fff3e0, #ffe0b2);\n      }\n      \n      .eisenhower-quadrant.not-urgent-not-important {\n        background: linear-gradient(135deg, #f3e5f5, #e1bee7);\n      }\n      \n      .eisenhower-task {\n        background: white;\n        border: 1px solid #ddd;\n        border-radius: 6px;\n        padding: ${this.size.taskPadding};\n        margin-bottom: 10px;\n        cursor: move;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        transition: all 0.2s ease;\n      }\n      \n      .eisenhower-task:hover {\n        box-shadow: 0 4px 8px rgba(0,0,0,0.2);\n        transform: translateY(-2px);\n      }\n      \n      .eisenhower-task.dragging {\n        opacity: 0.5;\n        transform: rotate(5deg);\n      }\n      \n      .eisenhower-task-title {\n        font-weight: 600;\n        margin-bottom: 5px;\n        color: #333;\n      }\n      \n      .eisenhower-task-description {\n        font-size: 14px;\n        color: #666;\n        line-height: 1.4;\n      }\n      \n      .eisenhower-axis-labels {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        pointer-events: none;\n      }\n      \n      .eisenhower-urgent-label, .eisenhower-important-label {\n        position: absolute;\n        font-weight: bold;\n        color: #666;\n        font-size: 14px;\n      }\n      \n      .eisenhower-urgent-label {\n        top: -25px;\n        left: 50%;\n        transform: translateX(-50%);\n      }\n      \n      .eisenhower-important-label {\n        left: -80px;\n        top: 50%;\n        transform: translateY(-50%) rotate(-90deg);\n        transform-origin: center;\n      }\n    `,document.head.appendChild(t)}createHTML(){const e=this.matrix.getAllQuadrantInfo();this.container.innerHTML=`\n      <div class="eisenhower-container">\n        <h1 class="eisenhower-title">Eisenhower Matrix</h1>\n        <div class="eisenhower-matrix">\n          <div class="eisenhower-axis-labels">\n            <div class="eisenhower-urgent-label">URGENT →</div>\n            <div class="eisenhower-important-label">IMPORTANT ↑</div>\n          </div>\n          \n          <div class="eisenhower-quadrant urgent-important" data-quadrant="urgent_important">\n            <div class="eisenhower-quadrant-header">${e[t.QuadrantType.URGENT_IMPORTANT].name}</div>\n            <div class="eisenhower-quadrant-strategy">${e[t.QuadrantType.URGENT_IMPORTANT].actionStrategy}</div>\n            <div class="eisenhower-tasks-container"></div>\n          </div>\n          \n          <div class="eisenhower-quadrant not-urgent-important" data-quadrant="not_urgent_important">\n            <div class="eisenhower-quadrant-header">${e[t.QuadrantType.NOT_URGENT_IMPORTANT].name}</div>\n            <div class="eisenhower-quadrant-strategy">${e[t.QuadrantType.NOT_URGENT_IMPORTANT].actionStrategy}</div>\n            <div class="eisenhower-tasks-container"></div>\n          </div>\n          \n          <div class="eisenhower-quadrant urgent-not-important" data-quadrant="urgent_not_important">\n            <div class="eisenhower-quadrant-header">${e[t.QuadrantType.URGENT_NOT_IMPORTANT].name}</div>\n            <div class="eisenhower-quadrant-strategy">${e[t.QuadrantType.URGENT_NOT_IMPORTANT].actionStrategy}</div>\n            <div class="eisenhower-tasks-container"></div>\n          </div>\n          \n          <div class="eisenhower-quadrant not-urgent-not-important" data-quadrant="not_urgent_not_important">\n            <div class="eisenhower-quadrant-header">${e[t.QuadrantType.NOT_URGENT_NOT_IMPORTANT].name}</div>\n            <div class="eisenhower-quadrant-strategy">${e[t.QuadrantType.NOT_URGENT_NOT_IMPORTANT].actionStrategy}</div>\n            <div class="eisenhower-tasks-container"></div>\n          </div>\n        </div>\n      </div>\n    `}setupEventListeners(){this.container.querySelectorAll(".eisenhower-quadrant").forEach(t=>{t.addEventListener("dragover",this.handleDragOver.bind(this)),t.addEventListener("drop",this.handleDrop.bind(this)),t.addEventListener("dragleave",this.handleDragLeave.bind(this))})}handleDragOver(t){const e=t;e.preventDefault(),e.currentTarget.classList.add("drag-over")}handleDragLeave(t){t.currentTarget.classList.remove("drag-over")}handleDrop(t){const e=t;e.preventDefault();const n=e.dataTransfer?.getData("text/plain"),a=e.currentTarget.dataset.quadrant;e.currentTarget.classList.remove("drag-over"),n&&a&&this.moveTask(n,a)}moveTask(t,e){this.matrix.updateTask(t,{quadrant:e})&&(this.render(),this.saveData())}async loadData(){try{const t=await this.storageAdapter.load();t&&t.tasks&&(this.matrix.clear(),t.tasks.forEach(t=>{this.matrix.addTask(t.title,t.description,t.quadrant,t.id)}),this.render())}catch(t){}}async saveData(){try{const t={tasks:this.matrix.getAllTasks(),timestamp:(new Date).toISOString()};await this.storageAdapter.save(t)}catch(t){}}render(){const t=this.matrix.getMatrix();Object.entries(t).forEach(([t,e])=>{const n=this.container.querySelector(`[data-quadrant="${t}"] .eisenhower-tasks-container`);n&&(n.innerHTML="",e.forEach(t=>{const e=this.createTaskElement(t);n.appendChild(e)}))})}createTaskElement(t){const e=document.createElement("div");return e.className="eisenhower-task",e.draggable=!0,e.dataset.taskId=t.id,e.innerHTML=`\n      <div class="eisenhower-task-title">${t.title}</div>\n      <div class="eisenhower-task-description">${t.description||""}</div>\n    `,e.addEventListener("dragstart",n=>{n.dataTransfer?.setData("text/plain",t.id),e.classList.add("dragging")}),e.addEventListener("dragend",()=>{e.classList.remove("dragging")}),e.addEventListener("dblclick",()=>{confirm("Remove this task?")&&this.removeTask(t.id)}),e}loadSampleTasks(){0===this.matrix.getTaskCount()&&(this.matrix.addTask("Fix production bug","Critical system error affecting all users",t.QuadrantType.URGENT_IMPORTANT),this.matrix.addTask("Plan quarterly goals","Set strategic objectives for next quarter",t.QuadrantType.NOT_URGENT_IMPORTANT),this.matrix.addTask("Respond to emails","Answer routine correspondence",t.QuadrantType.URGENT_NOT_IMPORTANT),this.matrix.addTask("Browse social media","Check latest posts and updates",t.QuadrantType.NOT_URGENT_NOT_IMPORTANT),this.render())}addTask(t,e,n){this.matrix.addTask(t,e,n),this.render(),this.saveData()}removeTask(t){this.matrix.removeTask(t)&&(this.render(),this.saveData())}getTasks(){return this.matrix.getAllTasks()}getTasksByQuadrant(t){return this.matrix.getTasksByQuadrant(t)}clear(){this.matrix.clear(),this.render(),this.saveData()}},t.EisenhowerMatrix=EisenhowerMatrix,t.LocalStorageAdapter=LocalStorageAdapter,t}({});
